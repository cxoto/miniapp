<!--index.wxml-->
<view class="ios-home">
  <!-- 状态栏占位 -->
  <view class="status-bar-placeholder"></view>

  <!-- 顶部日期和问候 -->
  <view class="header">
    <text class="greeting">{{greeting}}</text>
    <text class="date">{{dateStr}}</text>
  </view>

  <!-- 搜索栏 -->
  <view class="search-bar" bindtap="onSearchTap">
    <text class="search-icon">🔍</text>
    <text class="search-placeholder">搜索</text>
  </view>

  <!-- App 网格 -->
  <scroll-view class="app-grid-scroll" scroll-y="{{true}}" show-scrollbar="{{false}}" enhanced="{{true}}">
    <view class="app-grid">
      <!-- 阅读 App -->
      <view class="app-item" bindtap="openApp" data-app="reader">
        <view class="app-icon reader-icon">
          <view class="icon-inner">
            <text class="icon-emoji">📖</text>
          </view>
        </view>
        <text class="app-name">阅读</text>
      </view>

      <!-- 任务 App -->
      <view class="app-item" bindtap="openApp" data-app="todo">
        <view class="app-icon todo-icon">
          <view class="icon-inner">
            <text class="icon-emoji">✅</text>
          </view>
        </view>
        <text class="app-name">任务</text>
      </view>

      <!-- 备忘录 App -->
      <view class="app-item" bindtap="openApp" data-app="notes">
        <view class="app-icon notes-icon">
          <view class="icon-inner">
            <text class="icon-emoji">📝</text>
          </view>
        </view>
        <text class="app-name">备忘录</text>
      </view>

      <!-- 快递 App -->
      <view class="app-item" bindtap="openApp" data-app="express">
        <view class="app-icon express-icon">
          <view class="icon-inner">
            <text class="icon-emoji">📦</text>
          </view>
        </view>
        <text class="app-name">快递</text>
      </view>

      <!-- 设置 App -->
      <view class="app-item" bindtap="openApp" data-app="settings">
        <view class="app-icon settings-icon">
          <view class="icon-inner">
            <text class="icon-emoji">⚙️</text>
          </view>
        </view>
        <text class="app-name">设置</text>
      </view>

      <!-- 更多 App 占位 -->
      <view class="app-item" bindtap="openApp" data-app="more">
        <view class="app-icon more-icon">
          <view class="icon-inner">
            <text class="icon-emoji">➕</text>
          </view>
        </view>
        <text class="app-name">更多</text>
      </view>
    </view>

    <!-- 小组件区域 -->
    <view class="widgets-section">
      <text class="section-title">小组件</text>

      <!-- 阅读进度小组件 -->
      <view class="widget reading-widget" bindtap="openApp" data-app="reader">
        <view class="widget-header">
          <view class="widget-icon">📖</view>
          <text class="widget-title">阅读</text>
        </view>
        <view class="widget-content">
          <text class="widget-stat">{{readingStats.booksCount}}</text>
          <text class="widget-label">本书籍</text>
        </view>
        <view class="widget-footer">
          <text class="widget-hint">继续阅读 →</text>
        </view>
      </view>

      <!-- 任务小组件 -->
      <view class="widget todo-widget" bindtap="openApp" data-app="todo">
        <view class="widget-header">
          <view class="widget-icon">✅</view>
          <text class="widget-title">我的一天</text>
        </view>
        <view class="widget-content">
          <text class="widget-stat">{{todoStats.todayCount}}</text>
          <text class="widget-label">项任务</text>
        </view>
        <view class="widget-footer">
          <text class="widget-hint">查看任务 →</text>
        </view>
      </view>
    </view>
  </scroll-view>

</view>
